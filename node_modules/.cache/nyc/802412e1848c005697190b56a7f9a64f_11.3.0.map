{"version":3,"sources":["index.js"],"names":["options","language","any","empty","string","regex","base","phone","email","Checkout","props","state","name","mail","comment","code","isOpen","validatorTypes","resetCheckout","bind","handleSubmit","handleChange","setState","data","cost","dispatch","e","target","id","value","validate","error","basket","style","height","front","offsetHeight","prop","getValidationMessages","map","message","save","back","checkout","getValidatorData","propTypes","func","mapStateToProps","encounter","saved"],"mappings":"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","file":"index.js","sourceRoot":"/Users/danieljansson/Feelgood/src/components/Public/Checkout","sourcesContent":["import React, { Component, PropTypes } from 'react'\nimport { connect } from 'react-redux';\nimport validation from 'react-validation-mixin';\nimport strategy from 'joi-validation-strategy';\nimport FormComponent from '../../FormComponent';\nimport { encounterValidator } from '../../../../validators/encounters';\nimport { saveEncounter, resetEncounter } from '../../../actions/encounter';\nimport styles from './styles.css';\n\nconst options = {\n    language: {\n        any: {\n            empty: '!!Tekstno polje ne sme biti prazno',\n        },\n        string: {\n            regex: {\n                base: '!!Netačan format telefona',\n                phone: '!!Netačan format telefona',\n            },\n            email: '!!Netačan format e-pošte',\n        },\n    }\n};\n\nexport class Checkout extends FormComponent {\n\tconstructor (props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tname: '',\n\t\t\tmail: '',\n\t\t\tphone: '',\n\t\t\tcomment: '',\n\t\t\tcode: '',\n\t\t\tisOpen: false\n\t\t};\n\n\t\tthis.validatorTypes = encounterValidator;\n\t\tthis.resetCheckout = this.resetCheckout.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\tcomponentDidMount () {\n\t\tthis.setState({ isOpen: true, data: this.props.data, cost: this.props.cost });\n\t}\n\n    getValidatorData() {\n        return this.state\n    }\n\n\tresetCheckout () {\n\t\tthis.setState({\n            name: '',\n            mail: '',\n            phone: '',\n            comment: '',\n\t\t\tcode: '',\n\t\t\tisOpen: false\n\t\t});\n\n\t\tthis.props.resetCheckout();\n\t\tthis.props.dispatch(resetEncounter());\n\t}\n\n\thandleChange (e) {\n\t\tthis.setState({ [e.target.id]: e.target.value })\n\t}\n\n\thandleSubmit () {\n\t\tthis.props.validate((error) => {\n            this.basket.style.height = this.front.offsetHeight  + 40 + 'px';\n            if (!error) {\n                this.basket.style.height = this.front.offsetHeight + 'px';\n                this.props.dispatch(saveEncounter(this.state));\n\t\t\t}\n        })\n\t}\n\n\tgetValidationMessages (prop) {\n\t\treturn (\n            this.props.getValidationMessages(prop).map((message) => {\n\t\t\t\treturn <span className=\"error\">{message}</span>;\n            })\n\t\t)\n\t}\n\n\trender () {\n        const front = (this.props.save === true) ? 'front none' : 'front';\n        const back = (this.props.save === false) ? 'back none' : 'back';\n\n\t\tif (this.state.isOpen === true) {\n            return (\n\t\t\t\t<div ref={(checkout) => { this.checkout = checkout; }} className=\"checkout\">\n\t\t\t\t\t<div ref={(basket) => { this.basket = basket; }} className=\"basket\">\n\t\t\t\t\t\t<div className=\"header\" />\n\t\t\t\t\t\t<div className=\"outer-frame\">\n\t\t\t\t\t\t\t<div className=\"inner-frame\">\n\t\t\t\t\t\t\t\t<svg onClick={ this.resetCheckout } viewBox=\"0 0 94.926 94.926\">\n\t\t\t\t\t\t\t\t\t<path d=\"M55.931,47.463L94.306,9.09c0.826-0.827,0.826-2.167,0-2.994L88.833,0.62C88.436,0.224,87.896,0,87.335,0   c-0.562,0-1.101,0.224-1.498,0.62L47.463,38.994L9.089,0.62c-0.795-0.795-2.202-0.794-2.995,0L0.622,6.096   c-0.827,0.827-0.827,2.167,0,2.994l38.374,38.373L0.622,85.836c-0.827,0.827-0.827,2.167,0,2.994l5.473,5.476   c0.397,0.396,0.936,0.62,1.498,0.62s1.1-0.224,1.497-0.62l38.374-38.374l38.374,38.374c0.397,0.396,0.937,0.62,1.498,0.62   s1.101-0.224,1.498-0.62l5.473-5.476c0.826-0.827,0.826-2.167,0-2.994L55.931,47.463z\" fill=\"#c04c9c\"/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<div ref={(front) => { this.front = front; }} className={front}>\n\t\t\t\t\t\t\t\t\t<h1>Potvrda narudžbe</h1>\n\t\t\t\t\t\t\t\t\t<div className=\"form-element-wrapper\">\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"name\">Ime</label>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tonChange={ this.handleChange }\n\t\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.name}/>\n\t\t\t\t\t\t\t\t\t\t{this.getValidationMessages('name')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"form-element-wrapper\">\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"phone\">Telefon</label>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tonChange={ this.handleChange }\n\t\t\t\t\t\t\t\t\t\t\tid=\"phone\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.phone}/>\n\t\t\t\t\t\t\t\t\t\t{this.getValidationMessages('phone')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"form-element-wrapper\">\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"email\">E-pošta</label>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tonChange={ this.handleChange }\n\t\t\t\t\t\t\t\t\t\t\tid=\"mail\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.mail}/>\n\t\t\t\t\t\t\t\t\t\t{this.getValidationMessages('mail')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"form-element-wrapper\">\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"comment\">Kommentar</label>\n\t\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\t\tclassName={ this.getValidatorData('comment') }\n\t\t\t\t\t\t\t\t\t\t\tonChange={ this.handleChange }>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.comment}\n\t\t\t\t\t\t\t\t\t\t</textarea>\n\t\t\t\t\t\t\t\t\t\t{this.getValidationMessages('comment')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"form-buttons\">\n\t\t\t\t\t\t\t\t\t\t<button onClick={ this.resetCheckout }>Natrag</button>\n\t\t\t\t\t\t\t\t\t\t<button onClick={ this.handleSubmit }>Zakažite</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={back}>\n\t\t\t\t\t\t\t\t\t<h1>Potvrda narudžbe</h1>\n\t\t\t\t\t\t\t\t\t<p>Molimo uplatite xxx na bankovni računu:</p>\n\t\t\t\t\t\t\t\t\t<p>YYY YYY YYY YYY</p>\n\t\t\t\t\t\t\t\t\t<p>Napišite vaše ime, telefon broj / e-poštu i šifru ispod na uplatnicu:</p>\n\t\t\t\t\t\t\t\t\t<p >{this.props.cost.code}</p>\n\t\t\t\t\t\t\t\t\t<p>Mi će mo vas zovnuti da rezerviramo termin za razgovor sa našim psiholozima kada smo primili novac.</p>\n\t\t\t\t\t\t\t\t\t<p>Dobićete fakturu na vašu e-poštu u roku od 24 sata sa detaljima plaćanja.</p>\n\t\t\t\t\t\t\t\t\t<p>Mnogo hvala, tim zdravilje</p>\n\t\t\t\t\t\t\t\t\t<button onClick={ this.resetCheckout }>Blizu</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n            );\n        } else {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n\nCheckout.propTypes = { dispatch: PropTypes.func };\n\nconst mapStateToProps = (state) => ({\n\tsave: state.encounter.saved\n});\n\nexport default connect(mapStateToProps)(validation(strategy(options))(Checkout));\n"]}